function getPreferredColorScheme(){let e="light",r=e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":e;return localStorage.getItem("scheme")&&(r=localStorage.getItem("scheme")),e===r&&localStorage.removeItem("scheme"),r}function savePreferredColorScheme(e){let r="light";(r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":r)===e?localStorage.removeItem("scheme"):localStorage.setItem("scheme",e)}function toggleColorScheme(){let e="light";var r=getPreferredColorScheme();applyPreferredColorScheme(e="light"===r?"dark":e),savePreferredColorScheme(e)}function applyPreferredColorScheme(e){for(var r=0;r<document.styleSheets.length;r++)for(var l=0;l<document.styleSheets[r].cssRules.length;l++)if((rule=document.styleSheets[r].cssRules[l])&&rule.media&&rule.media.mediaText.includes("prefers-color-scheme"))switch(e){case"light":rule.media.appendMedium("original-prefers-color-scheme"),rule.media.mediaText.includes("light")&&rule.media.deleteMedium("(prefers-color-scheme: light)"),rule.media.mediaText.includes("dark")&&rule.media.deleteMedium("(prefers-color-scheme: dark)");break;case"dark":rule.media.appendMedium("(prefers-color-scheme: light)"),rule.media.appendMedium("(prefers-color-scheme: dark)"),rule.media.mediaText.includes("original")&&rule.media.deleteMedium("original-prefers-color-scheme");break;default:rule.media.appendMedium("(prefers-color-scheme: dark)"),rule.media.mediaText.includes("light")&&rule.media.deleteMedium("(prefers-color-scheme: light)"),rule.media.mediaText.includes("original")&&rule.media.deleteMedium("original-prefers-color-scheme")}}applyPreferredColorScheme(getPreferredColorScheme());